# 04. 테스트 원칙

## 테스트 코드
1) 테스트 코드는 지속적으로 유지보수. 유지보수성 고려하여 작성
2) 내부 구현 사항을 테스트하지 않음. API만을 사용하여 테스트
3) 반복되는 코드가 있다면 재사용성을 높이기 위해 테스트 유틸리티 작성
4) 배포용 코드와 분리
5) 테스트 코드를 통한 문서화

## 테스트 코드 구조
1) Before: beforEach, beforeAll
2) Test: 준비 > 실행 > 검증, Given > When > Then, Arrange > Act > Assert
3) After: afterEach, afterAll
- 준비(재사용확인), 실행(의도적 실패), 검증(가장 마지막)
- 테스트 하나에 너무 많은 검사를 할 경우 분리

## 테스트 원칙(FIRST)
- F(Fast): 느린 것에 대한 의존성 낮추기(파일, DB, 네트워크)
- I(Isolated): 최소한의 유닛으로 검증하기(독립적이고 집중적으로 유지)
- R(Repeatable): 실행할 때마다 동일한 결과를 유지(환경에 영향을 받지 않도록 작성)
- S(Self-Validating): 스스로 결과를 검증하기. 자동화를 통한 검증(CI/CD)
- T(Timely): 시기적절하게 테스트 코드 작성(사용자에게 배포되기 이전에 테스트 코드 작성)

## 테스트의 범위(Right-BICEP)
- Right: 모든 요구사항이 정상 동작하는지 확인(모든 결과가 정확한지 확인)
- B(Boundary Conditions): 모든 코너 케이스에 대해 테스트 작성(잘못된 포맷의 인풋, null, 특수문자, 잘못된 이메일, 작은 숫자, 큰 숫자, 중복, 순서가 맞지 않음)
- I(Inverse relationship): 역관계를 적용해서 결과값을 확인(일관성을 유지, 추가/제거, 덧셈/뺄셈)
- C(Cross-check): 다른 수단을 이용해서 결과값이 맞는지 확인(구현알고리즘==라이브러리)
- E(Error Conditions): 불행한 경로에 대해 우아하게 처리하는지(네트워크 에러, 메모리 부족, DB 중지)
- P(Performance Characteristics): 성능 확인은 테스트를 통해 정확한 수치로 확인(성능 개선의 척도와 확인도 데이터를 통해 확인)

## 테스트의 조건(CORRECT)
- C(Conformance): 특정 포맷을 준수(전화번호, 이메일, 아이디, 확장자, ...)
- O(Ordering): 순서조건 확인하기(순서가 중요한 경우)
- R(Range): 숫자의 범위(제한된 범위보다 작거나 큰 경우)
- R(Reference): 외부 의존성 유무, 특정한 조건의 유무(특정한 상황일 때)
- E(Existence): 값이 존재하지 않을 때 동작 확인(null, undefined, '', 0)
- C(Cardinality): 0-1-N 법칙에 따라 검증(하나도 없을 때, 하나만 있을 때, 여러 개가 있을 때)
- T(Time): 상대, 절대, 동시의 일들(순서가 맞지 않는 경우, 소비한 시간, 지역 시간) 
